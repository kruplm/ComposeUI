 <!--
 * Morgan Stanley makes this available to you under the Apache License,
 * Version 2.0 (the "License"). You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0.
 *
 * See the NOTICE file distributed with this work for additional information
 * regarding copyright ownership. Unless required by applicable law or agreed
 * to in writing, software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions
 * and limitations under the License.
 -->
    
<UserControl x:Class="MorganStanley.ComposeUI.Shell.Fdc3.ChannelSelector.Fdc3ChannelSelectorControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MorganStanley.ComposeUI.Shell.Fdc3.ChannelSelector"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
             d:DataContext="{d:DesignInstance Type=local:Fdc3ChannelSelectorViewModel}"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <materialDesign:PopupBox
            Panel.ZIndex="100"
            x:Name="ChannelSelector"
            Grid.Row="3"
            VerticalAlignment="Bottom"
            BorderBrush="{Binding CurrentChannelColor, Mode=TwoWay}"
            BorderThickness="8.0"
            HorizontalAlignment="Left"
            IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
            Style="{StaticResource MaterialDesignMultiFloatingActionSecondaryPopupBox}"
            ToggleCheckedContentCommand="{Binding FloatingActionDemoCommand}"
            ToggleCheckedContentCommandParameter="wowsers"
            ToolTip="PopupBox, Style MaterialDesignMultiFloatingActionSecondaryPopupBox">
            
            <StackPanel x:Name="ChannelButtons">
                <ItemsControl 
                    ItemsSource="{Binding UserChannelCollection}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            
                            <Button
                                Content= "{Binding DisplayMetadata.Glyph}"
                                ToolTip="{Binding DisplayMetadata.Name}" 
                                Background="{Binding DisplayMetadata.Color}"
                                Click="Button_Click"
                            />

                        </DataTemplate>
                    </ItemsControl.ItemTemplate>

                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Vertical" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </StackPanel>
        </materialDesign:PopupBox>
    </Grid>
</UserControl>
